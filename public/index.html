<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NURSA E-HUB 2026</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
            background:url('Image/hero-background.jpg') no-repeat center center fixed;
          background-size:cover;
            color:#212529;
            line-height:1.6;
            min-height:100vh;
            overflow-x:hidden;
        }
        nav {
            background:#ffffff;
            box-shadow:0 4px 20px rgba(0,0,0,0.12);
            border-bottom:1px solid #dee2e6;
            padding:0.8rem 0;
            position:sticky; top:0; z-index:100;
        }
        .nav-container {
            max-width:1200px; margin:0 auto; padding:0 1rem;
            display:flex; justify-content:space-between; align-items:center;
        }
        .logo { font-size:1.4rem; font-weight:bold; color:#198754; display:flex; align-items:center; gap:0.5rem; }
        .logo img { width:45px; height:auto; }
        .nav-links { display:flex; gap:1.2rem; list-style:none; flex-wrap:wrap; justify-content:center; }
        .nav-links a { color:#212529; text-decoration:none; font-weight:500; padding:0.5rem 0.9rem; border-radius:6px; }
        .nav-links a:hover { background:#e9f7ef; color:#198754; }

        .container { max-width:1200px; margin:0 auto; padding:1.2rem; }
        .hero { text-align:center; padding:3.5rem 1rem; color:white; text-shadow:0 2px 10px rgba(0,0,0,0.6); }
        .hero h1 { font-size:2.6rem; margin-bottom:1rem; }
        .btn {
            padding:1rem 2.2rem; background:#198754;
            color:white; border-radius:0.5rem;
            font-size:1.05rem; font-weight:600; cursor:pointer; transition:all 0.2s;
            box-shadow:0 4px 15px rgba(25,135,84,0.35); min-height:48px; display:inline-block;
            text-decoration: none;
        }
        .btn:hover { background:#157347; transform:translateY(-2px); }

        .section {
            background:#ffffff;
            padding:1.8rem; border-radius:1rem;
            box-shadow:0 8px 32px rgba(0,0,0,0.1);
            margin-bottom:1.8rem; border:1px solid #dee2e6;
        }
        .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:1.4rem; }
        .card {
            background:#ffffff;
            padding:1.4rem; border-radius:1rem; text-align:center;
            border:1px solid #dee2e6; transition:transform 0.25s; box-shadow:0 4px 12px rgba(0,0,0,0.08);
        }
        .card:hover { transform:translateY(-6px); }
        .candidate-img {
            width:100px; height:100px; border-radius:50%; background:#e9f7ef;
            margin:0 auto 1rem; display:flex; align-items:center; justify-content:center;
            font-size:2.4rem; color:#198754;
        }
        .countdown { display:flex; justify-content:center; gap:1rem; flex-wrap:wrap; margin:2rem 0; }
        .countdown-item { text-align:center; min-width:70px; }
        .countdown-value { font-size:2.4rem; font-weight:bold; color:#198754; }
        .countdown-label { color:#6c757d; font-size:0.9rem; }

        .status-message {
            font-size: 1.5rem;
            font-weight: bold;
            padding: 1.2rem;
            border-radius: 0.8rem;
            margin: 1.5rem auto;
            max-width: 600px;
        }
        .open { background: #d1fae5; color: #065f46; border: 2px solid #20c997; }
        .not-started { background: #fff3cd; color: #856404; border: 2px solid #ffc107; }
        .closed { background: #f8d7da; color: #721c24; border: 2px solid #dc3545; }

        footer {
            background:#198754;
            color:white; text-align:center; padding:1.8rem 1rem; margin-top:5rem;
        }

        #loadingSplash {
            position:fixed; inset:0; background:url('Image/hero-background.jpg') center/cover;
            display:flex; align-items:center; justify-content:center; z-index:9999;
            transition:opacity 0.8s, visibility 0.8s;
        }
        .splash-hidden { opacity:0; visibility:hidden; }
        .loader { width:60px; height:60px; border:6px solid rgba(255,255,255,0.3); border-top:6px solid white; border-radius:50%; animation:spin 1s linear infinite; }
        @keyframes spin { to { transform:rotate(360deg); } }

        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 5px;
        }
        .hamburger span {
            width: 25px;
            height: 3px;
            background: #212529;
            transition: all 0.3s;
            border-radius: 2px;
        }
        @media (max-width:768px) {
            .hamburger { display: flex; }
            .nav-links {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: #ffffff;
                padding: 1.5rem;
                box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            }
            .nav-links.active { display: flex; }
        }
    </style>
</head>
<body>

    <div id="loadingSplash">
        <div style="text-align:center; color:white; text-shadow:0 2px 8px black;">
            <img src="Image/nursing-logo.png" alt="Logo" style="width:140px; margin-bottom:1rem;">
            <h2>Nursing & Midwifery</h2>
            <p>Student Elections 2026</p>
            <div class="loader" style="margin:1.5rem auto 0;"></div>
        </div>
    </div>

    <nav>
        <div class="nav-container">
            <div class="logo">
                <img src="Image/nursing-logo.png" alt="Logo">
                NURSA E-HUB
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="candidates.html">Candidates</a></li>
                <li><a href="admin.html">Admin</a></li>
                <li><a href="login.html">Login</a></li>
            </ul>
            <div class="hamburger" aria-label="Toggle navigation menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="hero">
            <h1>Nursing & Midwifery Elections 2026</h1>
            <p style="font-size:1.2rem; margin:1.5rem 0;">Your voice shapes our future. Vote wisely.</p>
            <a href="login.html" class="btn">Login to Vote</a>
        </div>

        <div class="section">
            <h2 style="text-align:center; color:#198754;">Voting Status</h2>
            <div id="countdown" class="countdown"></div>
            <div id="statusMessage" class="status-message" style="display:none;"></div>
        </div>

        <div class="section">
            <h2 style="text-align:center; color:#198754;">Featured Candidates</h2>
            <div class="grid">
                <div class="card"><div class="candidate-img">SJ</div><h3>Sarah Johnson</h3><p>President</p></div>
                <div class="card"><div class="candidate-img">MC</div><h3>Michael Chen</h3><p>Vice President</p></div>
                <div class="card"><div class="candidate-img">EB</div><h3>Emily Brown</h3><p>Secretary</p></div>
            </div>
            <div style="text-align:center; margin-top:1.5rem;">
                <a href="candidates.html" class="btn">View All Candidates</a>
            </div>
        </div>
    </div>

    <footer>
        <p>Â© 2026 Nursing & Midwifery Department Elections</p>
        <p>Designed by Jeffery Bonsra</p>
    </footer>

    <script>
        function updateCountdownAndStatus() {
            fetch('/api/voting-status')
                .then(r => {
                    if (!r.ok) throw new Error(`HTTP error! status: ${r.status}`);
                    return r.json();
                })
                .then(data => {
                    const now = Date.now();
                    const start = data.start;
                    const end = data.end;
                    const isOpen = now >= start && now <= end;

                    const countdownEl = document.getElementById('countdown');
                    const statusEl = document.getElementById('statusMessage');

                    if (isOpen) {
                        countdownEl.innerHTML = '';
                        statusEl.textContent = "Voting is OPEN right now!";
                        statusEl.className = "status-message open";
                        statusEl.style.display = "block";
                        return;
                    }

                    if (now > end) {
                        countdownEl.innerHTML = '';
                        statusEl.textContent = "Voting period has ended";
                        statusEl.className = "status-message closed";
                        statusEl.style.display = "block";
                        return;
                    }

                    const diff = start - now;
                    const d = Math.floor(diff / 86400000);
                    const h = Math.floor((diff % 86400000) / 3600000);
                    const m = Math.floor((diff % 3600000) / 60000);
                    const s = Math.floor((diff % 60000) / 1000);

                    countdownEl.innerHTML = `
                        <div class="countdown-item"><div class="countdown-value">${String(d).padStart(2,'0')}</div><div class="countdown-label">Days</div></div>
                        <div class="countdown-item"><div class="countdown-value">${String(h).padStart(2,'0')}</div><div class="countdown-label">Hours</div></div>
                        <div class="countdown-item"><div class="countdown-value">${String(m).padStart(2,'0')}</div><div class="countdown-label">Minutes</div></div>
                        <div class="countdown-item"><div class="countdown-value">${String(s).padStart(2,'0')}</div><div class="countdown-label">Seconds</div></div>
                    `;
                    statusEl.style.display = "none";
                })
                .catch(err => {
                    console.error("Failed to fetch voting status:", err);
                    document.getElementById('countdown').innerHTML = 
                        '<p style="color:#dc3545; font-size:1.4rem;">Error loading voting status</p>';
                });
        }

        setInterval(updateCountdownAndStatus, 1000);
        updateCountdownAndStatus();

        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loadingSplash')?.classList.add('splash-hidden');
            }, 1800);
        });

        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');
        if (hamburger && navLinks) {
                hamburger.addEventListener('click', () => {
                hamburger.classList.toggle('active');
                navLinks.classList.toggle('active');
            });

            navLinks.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    hamburger.classList.remove('active');
                    navLinks.classList.remove('active');
                });
            });
        }
    </script>
</body>
</html>